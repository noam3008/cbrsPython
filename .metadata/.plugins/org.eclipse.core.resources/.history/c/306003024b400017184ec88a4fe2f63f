'''
Created on May 22, 2017

@author: iagmon
'''
import model.Utils.JsonComparisonUtils as jsonComparer 

class CBRSObject(object):
    '''
    classdocs
    '''


    def __init__(self, fccId,testDefinition,confFile,dirPath):
        self.fccId                              = fccId
        self.repeatesAllowed                    = False
        self.repeatsType                        = None
        self.oldHttpReq                         = None
        self.validDurationTime                  = 0
        self.lastHeartBeatTime                  = None
        self.grantBeforeHeartBeat               = False
        self.validationErrorAccuredInEngine     = False
        self.isLastStepInCSV                    = False
        self.numberOfStep                       = 0
        self.numberOfHearbeatRequests           = 0
        self.jsonSteps = []
        self.set_Current_Json_Steps(testDefinition, confFile, dirPath)
    
    
    def set_Current_Json_Steps(self,testDefinition,confFile,dirPath):
        for jsonCol in testDefinition.jsonNamesOfSteps:
            if jsonComparer.get_Node_Of_Json_Parsed(jsonCol[0],"registrationRequest",confFile,dirPath)[0]["fccId"]== self.fccId:
                self.jsonSteps = jsonCol
            print self.jsonSteps
                
                
        