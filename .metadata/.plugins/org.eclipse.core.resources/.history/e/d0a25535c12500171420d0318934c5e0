# conftest.py
import pytest
import xml.etree.ElementTree as ET
import json
from xml.dom import minidom
from webserve import app

def add(this,that):
    result = this + that
    return result


def test_add():
    assert add(10,15) == 25
    
def getJson():
    #assigned the xml file
    doc = minidom.parse("confOfResp.xml")
    #get the exact file i want the json from
    name = doc.getElementsByTagName("jsonRepo")[0]
    myfile = open(name.firstChild.data+ 'data.txt')
   

@pytest.fixture
def app():
    app = app()
    app.response_class = MyResponse
    return app

def test_my_json_response(client):
    res = client.get(url_for('api.ping'))
    assert res.json == 42
    
getJson()