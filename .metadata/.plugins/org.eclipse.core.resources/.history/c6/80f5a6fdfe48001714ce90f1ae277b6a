from Loggers.LogObserver import Observer
from datetime import datetime
from model.Utils import Consts as consts
import logging
 
 
class CmdLogger(Observer):
    def __init__(self):
        self.currentLoggerName = []
    
    def startTest(self,dir_Path,log_Name,folder_Name=None):
        log_file =  '\Logs\CMDSessions\cmdSession_' + str(datetime.now().strftime("%Y_%m_%d_%H_%M_%S")) +'.log'
        self.addLoggerFile(dir_Path,consts.CLI_SESSION, log_file)
    
    def startStep(self):
        print "startStep cmd"
        
    def finishStep(self):
        print "finishStep cmd"
        
        
    def finishTest(self):
        print "finish test cmd"
        
    def print_To_Terminal(self,message):
        log = logging.getLogger(consts.CLI_SESSION)
        log.info(msg)
        print msg          
        
    def addLoggerFile(self,dir_Path, logger_name, log_file):
        log_setup = logging.getLogger(logger_name)
        formatter = logging.Formatter('%(levelname)s: %(asctime)s %(message)s', datefmt='%m/%d/%Y %I:%M:%S %p')
        fileHandler = logging.FileHandler(str(dir_Path) + log_file, mode='a')
        fileHandler.setFormatter(formatter)
        log_setup.addHandler(fileHandler)
        log_setup.setLevel(logging.INFO)
        self.currentLoggerName.append(log_setup.name)
 