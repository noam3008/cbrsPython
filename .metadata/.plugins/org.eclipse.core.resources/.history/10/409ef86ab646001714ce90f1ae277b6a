import datetime as DT
import xml.etree.cElementTree as ET
class xmlCreation(object):
    '''
    classdocs
    '''


    def __init__(self, testName,dirPath):
        '''
        Constructor
        '''
        self.startTime = DT.datetime.now()
        self.testName = testName
        self.dirPath = dirPath
    
    

    def buildXml(self):
        root = ET.Element('ns0:test-suite')
        root.set("xmlns:ns2","urn:model.allure.qatools.yandex.ru")
        root.set("start","1496066956106")
        root.set("stop","1496066956106")
        description = ET.SubElement(root,"description")
        description.text = "This is the tests collection phase. Failures are modules that failed to collect."
        ET.SubElement(root,"name").text = "test_collection_phase"
        ET.SubElement(root,"title").text = "Collection phase"
        ET.SubElement(root,"labels")
        testCases = ET.SubElement(root,"test-cases")
        testCase = ET.SubElement(testCases,"test-case")
        testCase.set("start","1496066956106")
        testCase.set("status","failed")
        
         
        print ET.tostring(root)
        # write to file:
        tree = ET.ElementTree(root)
        tree.write(self.dirPath + "\\" +self.testName + ".xml")

#xml = xmlCreation("noam","C:\Users\iagmon\cbrsPython")
#xml.buildXml()


'''<ns0:test-suite xmlns:ns0="urn:model.allure.qatools.yandex.ru" start="1496066956106" stop="1496066956106">
  <description>This is the tests collection phase. Failures are modules that failed to collect.</description>
  <name>test_collection_phase</name>
  <title>Collection phase</title>
  <labels/>
  <test-cases>
    <test-case start="1496066956106" status="failed" stop="1496066956106">
      <name>gui</name>
      <failure>
        <message>failed</message>
        <stack-trace></stack-trace>
      </failure>
      <attachments/>
      <labels/>
      <steps/>
    </test-case>
  </test-cases>
</ns0:test-suite>'''
